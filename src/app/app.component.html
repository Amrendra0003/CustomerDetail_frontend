<div>
  <br>
  <button id="addCustomer" class="btn btn-primary" (click)="addCustomer(templateCustomerInfo)">Add customer</button>
  <br><br>
  <table id="customers">
    <tr>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Date Of Birth</th>
      <th>Gender</th>
      <th>Phone Number</th>
      <th>Address</th>
      <th>Profession</th>
    </tr>
    <tbody *ngFor="let row of customerDetails">
      <tr>
        <td>{{row.firstName}}</td>
        <td>{{row.lastName}}</td>
        <td>{{row.dateOfBirth | date:'longDate'}}</td>
        <td>{{row.gender?"Male":"Female"}}</td>
        <td>{{row.phoneNumber}}</td>
        <td><button class="btn btn-info" (click)="isExpandForAddressFun(row.id)">Show</button></td>
        <td><button class="btn btn-info" (click)="isExpandForProfessionFun(row.id)">Show</button></td>
      </tr>
      <tr *ngIf="isExpandForAddressVar&&row.id==rowId">
        <td colspan="7">
         <table id="customerAddress">
          <tr>
            <th>Address</th>
            <th>Street Number</th>
            <th>State</th>
            <th>Country</th>
            <th>Zip Code</th>
            <th>Hide Table</th>
          </tr>
          <tr>
            <td>{{row.address}}</td>
            <td>{{row.streetNo}}</td>
            <td>{{row.state}}</td>
            <td>{{row.country}}</td>
            <td>{{row.zipCode}}</td>
            <td><button class="btn btn-info" (click)="hideAddressTable()">Confirm</button></td>
          </tr> 
        </table>
        </td>
      </tr>
      <tr *ngIf="isExpandForProfessionVar&&row.id==rowId">
        <td colspan="7">
        <table id="customerProfession">
          <tr>
            <th>Job Title</th>
            <th>Job Detail</th>
            <th>Company Name</th>
            <th>Employee Id</th>
            <th>Hide Table</th>
          </tr>
          <tr>
            <td>{{row.jobTitle}}</td>
            <td>{{row.jobDetail}}</td>
            <td>{{row.companyName}}</td>
            <td>{{row.employeeId}}</td>
            <td><button class="btn btn-info" (click)="hideProfessionTable()">Confirm</button></td>
          </tr>
        </table>
      </td>
      </tr>
    </tbody>
  </table>
  <ng-template #templateCustomerInfo>
    <form [formGroup]="customerForm" class="row g-3" id="customerForm">
      <h3>Customer Information</h3>
      <p>All fields are required!</p>
      <div class="col-md-6">
        <label for="firstName" class="form-label">First Name</label>
        <input type="text" class="form-control" id="firstName" formControlName="FirstName">
      </div>
      <div class="col-md-6">
        <label for="lastName" class="form-label">Last Name</label>
        <input type="text" class="form-control" id="lastName" formControlName="LastName">
      </div>
      <div class="col-12">
        <label for="dateOfBirth" class="form-label">Date Of Birth</label>
        <input type="date" class="form-control" id="dateOfBirth" formControlName="DateOfBirth">
      </div>
      <div class="col-12">
        <label for="gender" class="form-label">Gender</label>
        <select id="gender" class="form-select" formControlName="Gender">
          <option selected>Male</option>
          <option>Female</option>
        </select>
      </div>
      <div class="col-md-6">
        <label for="phoneNumber" class="form-label">Phone Number</label>
        <input type="text" class="form-control" id="phoneNumber" formControlName="PhoneNumber">
        <div *ngIf="f.PhoneNumber.errors?.pattern" class="alert alert-danger">Please, Enter 10 digit Mobile Number.
        </div>
      </div>
      <div class="col-12 float-right">
        <button type="button" class="btn cus-btn btn-default" (click)="hideModel()">Close</button>
        <button class="btn btn-primary" (click)='SaveCustomerInfo(templateCustomerAddress)'>Next</button>
      </div>
    </form>
  </ng-template>
  <ng-template #templateCustomerAddress>
    <form [formGroup]="customerForm" class="row g-3" id="customerForm">
      <h3>Customer Address</h3>
      <p>All fields are required!</p>
      <div class="col-12">
        <label for="address" class="form-label">Address</label>
        <input type="text" class="form-control" id="address" formControlName="Address">
      </div>
      <div class="col-12">
        <label for="inputState" class="form-label">State</label>
        <input type="text" class="form-control" id="state" formControlName="State">
      </div>
      <div class="col-md-6">
        <label for="inputZip" class="form-label">Zip</label>
        <input type="text" class="form-control" id="inputZip" formControlName="ZipCode">
      </div>
      <div class="col-md-6">
        <label for="streetNo" class="form-label">Street Number</label>
        <input type="text" class="form-control" id="streetNo" formControlName="StreetNo">
      </div>
      <div class="col-12">
        <label for="country" class="form-label">Country</label>
        <input type="text" class="form-control" id="country" formControlName="Country" formControlName="Country">
      </div>
      <div class="col-12 float-right">
        <button type="button" class="btn cus-btn btn-default" (click)="hideModel()">Close</button>
        <button class="btn btn-primary" (click)="BackToCustInfo(templateCustomerInfo)">Back</button>
        <button class="btn btn-primary" (click)="SaveCustomerAddress(templateCustomerProfession)"
          style="margin-left: 5px;">Next</button>
      </div>
    </form>
  </ng-template>
  <ng-template #templateCustomerProfession>
    <form [formGroup]="customerForm" class="row g-3" id="customerForm" (ngSubmit)="onSubmitCustomerDetails($event)">
      <h3>Customer Profession</h3>
      <p>All fields are required!</p>
      <div class="col-12">
        <label for="jobTitle" class="form-label">Job Title</label>
        <input type="text" class="form-control" id="jobTitle" formControlName="JobTitle">
      </div>
      <div class="col-12">
        <label for="jobDetail" class="form-label">Job Detail</label>
        <input type="text" class="form-control" id="jobDetail" formControlName="JobDetail">
      </div>
      <div class="col-12">
        <label for="companyName" class="form-label">Company Name</label>
        <input type="text" class="form-control" id="companyName" formControlName="CompanyName">
      </div>
      <div class="col-12">
        <label for="employeeId" class="form-label">Employee Id</label>
        <input type="text" class="form-control" id="employeeId" formControlName="EmployeeId">
      </div>
      <div class="col-12 float-right">
        <button type="button" class="btn cus-btn btn-default" (click)="hideModel()">Close</button>
        <button class="btn btn-primary" (click)="BackToCustAddress(templateCustomerAddress)">Back</button>
        <button type="submit" class="btn btn-primary" style="margin-left: 5px;">Save</button>
      </div>
    </form>
  </ng-template>
</div>